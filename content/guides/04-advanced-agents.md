---
title: "Продвинутые Агенты"
description: "Кастомные агенты, MCP серверы, оркестрация рабочих процессов."
author: "Игорь В."
category: "АГЕНТЫ"
time: "20 МИН"
views: 1245
date: "15 ФЕВ"
status: published
---

Кастомные агенты, MCP серверы, оркестрация рабочих процессов.

## 1. Что Такое Агенты

Агенты -- это специализированные AI-конфигурации, заточенные под конкретные задачи. В отличие от универсальных промптов, агенты имеют:

- Постоянный контекст и инструкции
- Доступ к определённым инструментам
- Специфичные паттерны поведения

## 2. Создание Кастомного Агента

### Агент Код-Ревью

```yaml
name: code-reviewer
model: claude-opus-4-6
tools:
  - read_file
  - search_codebase
  - run_tests
instructions: |
  Вы агент код-ревью. При анализе кода:
  1. Проверяйте безопасность (инъекции, утечки)
  2. Оценивайте производительность
  3. Проверяйте соответствие стандартам проекта
  4. Предлагайте конкретные исправления
```

### Агент Документации

```yaml
name: doc-writer
model: claude-opus-4-6
tools:
  - read_file
  - write_file
instructions: |
  Вы агент документации. Генерируйте:
  1. JSDoc/TSDoc комментарии для функций
  2. README файлы для модулей
  3. API документацию
  4. Примеры использования
```

## 3. MCP Серверы

Model Context Protocol (MCP) позволяет подключать внешние источники данных и инструменты к AI-агентам.

### Настройка MCP

```json
{
  "mcpServers": {
    "database": {
      "command": "mcp-server-sqlite",
      "args": ["--db-path", "./data.db"]
    },
    "github": {
      "command": "mcp-server-github",
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

### Доступные MCP серверы

- **sqlite** -- запросы к базе данных
- **github** -- работа с репозиториями, PR, issues
- **filesystem** -- расширенная работа с файлами
- **puppeteer** -- автоматизация браузера

## 4. Оркестрация Рабочих Процессов

Комбинируйте агентов для сложных задач:

```
1. Агент-Аналитик -> анализирует задачу
2. Агент-Разработчик -> генерирует код
3. Агент-Ревьюер -> проверяет результат
4. Агент-Тестировщик -> создаёт тесты
```

### Пример пайплайна

```bash
# Запуск цепочки агентов
claude --agent analyst "Проанализируй задачу: добавить авторизацию"
claude --agent developer "Реализуй на основе анализа"
claude --agent reviewer "Проверь реализацию"
claude --agent tester "Напиши тесты"
```

## 5. Лучшие Практики

- Начинайте с простых агентов, усложняйте по мере необходимости
- Тестируйте агентов на реальных задачах команды
- Документируйте поведение и ограничения каждого агента
- Используйте версионирование конфигураций агентов
- Мониторьте качество вывода и корректируйте инструкции
